[FIELD]
FIELD(1).NAME="Value1"
FIELD(1).TYPE="Number"

FIELD(2).NAME="Value2"
FIELD(2).TYPE="Number"

FIELD(3).NAME="Value3"
FIELD(3).TYPE="Number"

FIELD(4).NAME="name1"
FIELD(5).NAME="name2"
FIELD(6).NAME="name3"

FIELD(7).NAME="TagName1"
FIELD(8).NAME="TagName2"
FIELD(9).NAME="TagName3"

FIELD(10).NAME="time"
FIELD(10).TYPE="DateTime"
' Example timestamp: 201702141037197
FIELD(10).FORMAT="yyyyMMddhhmmssn"

FIELD(11).NAME="mac"

[MSG]
MSG(1).NAME="header"
MSG(2).NAME="data"

' [everything]
' data.FILTER=C1=="*"
' print(__MESSAGE)

[data]
data.FILTER=C1=="*,*"
print(__MESSAGE)
'''' DATA EXTRACTION
' Example data row (1 values): 1702081408526 0.043701171875
' Example data row (2 values): 1702081408526 0.043701171875 0.014404296875
' Example data row (3 values): 1702081408526 0.043701171875 0.014404296875 -1.04296875

time=["(*),*"]
value1=["*,(*),*"]
value2=["*,*,(*),*"]
value3=["*,*,*,(*)"]

' There is only one value
if (value1 is NULL) then
    value1=["*,(*)"]
endif

' There is only two values
if (value2 is NULL) then
    value2=["*,*,(*)"]
endif

'''' SAVING DATA
' print(tagName1)
' print(time)
' print(value1)
StoreEvent("lux", ,time, value1, , )
if (value2 is not NULL) then
    StoreEvent(tagName2, ,time, value2, , )
endif

if (value3 is not NULL) then
    StoreEvent(tagName3, ,time, value3, , )
endif

[header]
header.FILTER=C1=="\#*"
' Example header: #1702081408522,24:71:89:E6:DF:84,accx,accy,accz
print(__MESSAGE)
mac = ["#(*),*"]
name1 = ["*,(*),*"]
name2 = ["*,*,(*),*"]
name3 = ["*,*,*,(*)"]

if (name1 is NULL) then
    name1 = ["*,(*)"]
endif

if (name2 is NULL) then
    name2 = ["*,*,(*)"]
endif

tagName1 = mac + "." + name1
print(tagName1)
tagName2 = mac + "." + name2
tagName3 = mac + "." + name3
